<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tela.js Tests</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }

        details {
            width: 100%;
            font-size: 1.5rem;
        }

        iframe {
            margin: auto;
            width: 100%;
            height: 31rem;
        }
    </style>
</head>

<body>

</body>
<script type="module">
    import DOM from "../src/DomBuilder.js";
    const range = (n, i = 0) => n === 0 ? [] : [i].concat(range(n - 1, i + 1));

    async function createIframeDateWith(path) {
        
    }

    (async () => {
        const iframes = range(5)
            .map(i => {
                const container = DOM.of("div");
                const details = DOM.of("details")
                    .appendChild(
                        DOM.of("summary")
                            .inner(`Test ${i}`),
                        container
                    )
                const iframe = DOM.of("iframe");
                iframe.element.createElement("div");
                iframe.element.body.appendChild()
                details.event("toggle", ({target: detailElem}) => {
                    if (detailElem.open) {
                        container.appendChild(iframe);
                    }
                })
                return details;
            })
        iframes.map(x => {
            document.body.appendChild(x.build());
        })
    })()
</script>

</html>