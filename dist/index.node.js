(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={getImageCanvas:function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");return n.fillStyle="rgba(0, 0, 0, 0)",n.globalCompositeOperation="source-over",n.fillRect(0,0,e.width,e.height),n.drawImage(t,0,0),e},getDataFromImage:function(t){return canvas=e.getImageCanvas(t),canvas.getContext("2d").getImageData(0,0,t.width,t.height)},loadImage:function(t){var e=new Image;return e.src=t,e.isReady=!1,e.onload=function(){return e.isReady=!0},e},generateImageReadyPredicate:function(t){return function(){return t.isReady}}};const n=e;function r(t,e){var n=[];return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function i(t){var e=[];return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function a(t,e){var n=[];return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function o(t,e){return t[0]*e[0]+t[1]*e[1]}function s(t){return o(t,t)}function u(t){return Math.sqrt(o(t,t))}function h(t,e){var n=[];return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function c(t,e){var n=[];return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}function l(t,e,n){var r=n[1]/t[1];return[r,(-t[0]*r+n[0])/e]}function f(t,e,n){var r=n[0]/t[0];return[r,(-t[1]*r+n[1])/e]}var v,d=function(t){this.canvas=t,this.ctx=t.getContext("2d"),this.image=this.ctx.getImageData(0,0,t.width,t.height),this.imageData=this.image.data};d.prototype.getSize=function(){return[this.canvas.height,this.canvas.width]},d.prototype.paintImage=function(){this.ctx.putImageData(this.image,0,0)},d.prototype.getCanvas=function(){return this.canvas},d.prototype.clearImage=function(t){this.useCanvasCtx((function(e){var n=e.getSize();e.ctx.fillStyle="rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")",e.ctx.globalCompositeOperation="source-over",e.ctx.fillRect(0,0,n[1],n[0])}),!0)},d.prototype.useCanvasCtx=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.ctx.putImageData(this.image,0,0),t(this),this.image=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.imageData=this.image.data},d.prototype.getImageIndex=function(t){return 4*(this.canvas.width*t[0]+t[1])},d.prototype.getPxl=function(t){var e=this.getImageIndex(t);return[this.imageData[e],this.imageData[e+1],this.imageData[e+2],this.imageData[e+3]]},d.prototype.drawPxl=function(t,e){var n=this.getImageIndex(t);this.imageData[n]=e[0],this.imageData[n+1]=e[1],this.imageData[n+2]=e[2],this.imageData[n+3]=e[3]},d.prototype.drawLine=function(t,e,n){n.points=[t,e];var r=[];r.push(t),r.push(e);for(var i=[],s=[],u=0;u<r.length;u++)0<=(d=r[u])[0]&&d[0]<this.canvas.height&&0<=d[1]&&d[1]<this.canvas.width?i.push(d):s.push(d);if(2!=i.length){var h=[],c=[e[0]-t[0],e[1]-t[1]];h.push(l(c,-(this.canvas.height-1),[-t[0],-t[1]])),h.push(f(c,-(this.canvas.width-1),[this.canvas.height-1-t[0],-t[1]])),h.push(l(c,this.canvas.height-1,[this.canvas.height-1-t[0],this.canvas.width-1-t[1]])),h.push(f(c,this.canvas.width-1,[-t[0],this.canvas.width-1-t[1]]));var v=[];for(u=0;u<h.length;u++){var d;0<=(d=h[u])[0]&&d[0]<=1&&0<=d[1]&&d[1]<=1&&v.push(d)}if(0!=v.length)if(i.length>0){var g=[t[0]+v[0][0]*c[0],t[1]+v[0][0]*c[1]];this.drawLineInt(i.pop(),g,n)}else{var p=[t[0]+v[0][0]*c[0],t[1]+v[0][0]*c[1]];for(u=1;u<v.length;u++)if(o(c=a(g=[t[0]+v[u][0]*c[0],t[1]+v[u][0]*c[1]],p),c)>.001)return void this.drawLineInt(p,g,n);this.drawLineInt(p,p,n)}}else this.drawLineInt(i[0],i[1],n)},d.prototype.drawLineInt=function(t,e,n){t=i(t),e=i(e);var s=[-1,0,1],u=s.length,h=u*u,c=[];c[0]=t[0],c[1]=t[1];var l=a(e,t),f=[];for(f[0]=-l[1],f[1]=l[0],n(c,n.points,this);c[0]!==e[0]||c[1]!==e[1];){for(var v=Number.MAX_VALUE,d=[],g=0;g<h;g++){var p=s[g%u],m=s[Math.floor(g/u)],y=a(r(c,[p,m]),t),w=Math.abs(o(y,f))-o(y,l);v>w&&(v=w,d=[p,m])}n(c=r(c,d),n.points,this)}n(c,n.points,this)},d.prototype.drawPolygon=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.isInsidePolygon,r=[[Number.MAX_VALUE,Number.MAX_VALUE],[Number.MIN_VALUE,Number.MIN_VALUE]],o=0;o<t.length;o++)r[0]=h(t[o],r[0]),r[1]=c(t[o],r[1]);var s=a(this.getSize(),[1,1]),u=[0,0];r[0]=i(h(s,c(u,r[0]))),r[1]=i(h(s,c(u,r[1])));for(var l=r[0][0];l<r[1][0];l++)for(var f=r[0][1];f<r[1][1];f++){var v=[l,f];n(v,t)&&e(v,t,this)}},d.prototype.drawTriangle=function(t,e,n,r){var i=[t,e,n];this.drawPolygon(i,r,d.isInsideConvex)},d.prototype.drawQuad=function(t,e,n,r,i){this.drawPolygon([t,e,n,r],i)},d.prototype.drawImage=function(t,e){"isReady"in t&&!t.isReady||this.useCanvasCtx((function(n){return n.ctx.drawImage(t,e[1],e[0])}))},d.prototype.drawCircle=function(t,e,n){var o=function(t,e){var n=[];return n[0]=t[0]*e,n[1]=t[1]*e,n}([1,1],e),s=[a(t,o),r(t,o)],u=this.getSize();s[0]=i(h(a(u,[1,1]),c([0,0],s[0]))),s[1]=i(h(a(u,[1,1]),c([0,0],s[1])));for(var l=s[0][0];l<=s[1][0];l++)for(var f=s[0][1];f<=s[1][1];f++){var v=[l,f];this.isInsideCircle(v,t,e)&&n(v,[t,e],this)}},d.prototype.isInsideCircle=function(t,e,n){return s(a(t,e))<=n*n},d.prototype.addEventListener=function(t,e,n){this.canvas.addEventListener(t,e,n)},d.prototype.drawString=function(t,e,n){this.useCanvasCtx((function(r){n(r.ctx),r.ctx.fillText(e,t[1],t[0])}))},d.isInsidePolygon=function(t,e){for(var n=[],r=0,i=e.length,s=0;s<i;s++)n[0]=a(e[(s+1)%i],t),n[1]=a(e[s],t),r+=Math.acos(o(n[0],n[1])/(u(n[0])*u(n[1])));return Math.abs(r-2*Math.PI)<.001},d.isInsideConvex=function(t,e){for(var n=e.length,r=[],i=[],s=0;s<n;s++){r[s]=a(e[(s+1)%n],e[s]);var u=[-r[s][1],r[s][0]],h=a(t,e[s]);i[s]=o(h,u)}var c=r[0][0]*r[1][1]-r[0][1]*r[1][0]>0?1:-1;for(s=0;s<n;s++)if(i[s]*c<0)return!1;return!0},d.simpleShader=function(t){return function(e,n,r){return r.drawPxl(e,t)}},d.colorShader=function(t){return d.interpolateTriangleShader((function(e,n,r,i){for(var a=[0,0,0,0],o=0;o<n.length;o++)a[0]=a[0]+t[o][0]*i[o],a[1]=a[1]+t[o][1]*i[o],a[2]=a[2]+t[o][2]*i[o],a[3]=a[3]+t[o][3]*i[o];r.drawPxl(e,a)}))},d.interpolateQuadShader=function(t){return function(e,n,r){var i=[n[0],n[1],n[2]],a=[n[2],n[3],n[0]],o=d.triangleBaryCoord(e,i);o[0]>0&&o[1]>0&&o[2]>0&&Math.abs(o[0]+o[1]+o[2]-1)<1e-10?t(e,n,r,[o[0],o[1],o[2],0]):(o=d.triangleBaryCoord(e,a),t(e,n,r,[o[2],0,o[0],o[1]]))}},d.interpolateTriangleShader=function(t){return function(e,n,r){var i=d.triangleBaryCoord(e,n);t(e,n,r,i)}},d.interpolateLineShader=function(t){return function(e,n,r){var i=a(n[1],n[0]),u=a(e,n[0]),h=s(i),c=o(u,i);t(e,n,r,0==h?0:c/h)}},d.quadTextureShader=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.bilinearInterpolation,s=null;return d.interpolateQuadShader((function(u,l,f,v){t.isReady&&null!=s||(s=new d(n.getImageCanvas(t)));for(var g=s,p=g.getSize(),m=[0,0],y=0;y<e.length;y++)m[0]=m[0]+e[y][0]*v[y],m[1]=m[1]+e[y][1]*v[y];var w=[(1-m[1])*(p[1]-1),(p[0]-1)*m[0]],b=i(w=c([0,0],h(a([p[0],p[1]],[1,1]),w))),x=[g.getPxl(b),g.getPxl(r(b,[1,0])),g.getPxl(r(b,[1,1])),g.getPxl(r(b,[0,1]))],k=o(x,a(w,b));f.drawPxl(u,k)}))},d.triangleCache=(v=[],{constains:function(t){return null!=v[t%3]},get:function(t){return v[t%3]},set:function(t,e){return v[t%3]=e}}),d.triangleHash=function(t){return[t[0][0],t[1][0],t[2][0],t[0][1],t[1][1],t[2][1]].reduce((function(t,e){return 31*t+e}),1)},d.triangleBaryCoord=function(t,e){var n=d.triangleHash(e),r=[t[0]-e[0][0],t[1]-e[0][1]];if(!d.triangleCache.constains(n)){var i=[e[1][0]-e[0][0],e[1][1]-e[0][1]],a=[e[2][0]-e[0][0],e[2][1]-e[0][1]],o=i[0]*a[1]-i[1]*a[0];d.triangleCache.set(n,{triangle:e,u:i.map((function(t){return t/o})),v:a.map((function(t){return t/o})),det:o,hash:n})}var s=d.triangleCache.get(n),u=s.u,h=s.v;if(0==s.det)return[0,0,0];var c=[h[1]*r[0]-h[0]*r[1],u[0]*r[1]-u[1]*r[0]];return[1-c[0]-c[1],c[0],c[1]]},d.bilinearInterpolation=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[0][r]+(t[3][r]-t[0][r])*e[1],a=i+(t[1][r]+(t[2][r]-t[1][r])*e[1]-i)*e[0];n.push(a)}return n},d.createCanvas=function(t,e){var n=document.createElement("canvas");return n.setAttribute("width",t[0]),n.setAttribute("height",t[1]),document.getElementById(e).appendChild(n),n};const g=d;var p=function(t,e){if(g.call(this,t),2!=e.length||2!=e[0].length&&2!=e[1].length)throw"camera space must be 2-dim array with 2-dim arrays representing an interval";this.cameraSpace=e};(p.prototype=Object.create(g.prototype)).constructor=p,p.prototype.integerTransform=function(t){return[-(this.canvas.height-1)/(this.cameraSpace[1][1]-this.cameraSpace[1][0])*(t[1]-this.cameraSpace[1][1]),(this.canvas.width-1)/(this.cameraSpace[0][1]-this.cameraSpace[0][0])*(t[0]-this.cameraSpace[0][0])]},p.prototype.inverseTransform=function(t){return[this.cameraSpace[0][0]+(this.cameraSpace[0][1]-this.cameraSpace[0][0])/(this.canvas.width-1)*t[1],this.cameraSpace[1][1]-(this.cameraSpace[1][1]-this.cameraSpace[1][0])/(this.canvas.height-1)*t[0]]},p.prototype.drawLine=function(t,e,n){var r=this.integerTransform(t),i=this.integerTransform(e);g.prototype.drawLine.call(this,r,i,n)},p.prototype.drawTriangle=function(t,e,n,r){var i=this.integerTransform(t),a=this.integerTransform(e),o=this.integerTransform(n);g.prototype.drawTriangle.call(this,i,a,o,r)},p.prototype.drawQuad=function(t,e,n,r,i){var a=this.integerTransform(t),o=this.integerTransform(e),s=this.integerTransform(n),u=this.integerTransform(r);g.prototype.drawQuad.call(this,a,o,s,u,i)},p.prototype.drawCircle=function(t,e,n){var r=this.integerTransform(t),i=this.integerTransform([e,0])[1]-this.integerTransform([0,0])[1];g.prototype.drawCircle.call(this,r,i,n)},p.prototype.drawImage=function(t,e){g.prototype.drawImage.call(this,t,this.integerTransform(e))},p.prototype.drawString=function(t,e,n){var r=this.integerTransform(t);g.prototype.drawString.call(this,r,e,n)},p.prototype.setCamera=function(t){if(2!=t.length||2!=t[0].length&&2!=t[1].length)throw"camera space must be 2-dim array with 2-dim arrays representing an interval";this.cameraSpace=t};const m=require("@babel/runtime/helpers/esm/toConsumableArray");var y=t.n(m);const w=require("@babel/runtime/helpers/esm/slicedToArray");var b=t.n(w);const x=require("@babel/runtime/helpers/esm/classCallCheck");var k=t.n(x);const I=require("@babel/runtime/helpers/esm/createClass");var C=t.n(I);const R=require("@babel/runtime/helpers/esm/defineProperty");var A,M=t.n(R),S=255,E=function(){function t(e){k()(this,t),this.rgba=e}return C()(t,[{key:"getRGBA",value:function(){return this.rgba}},{key:"red",get:function(){return this.rgba[0]}},{key:"green",get:function(){return this.rgba[1]}},{key:"blue",get:function(){return this.rgba[2]}},{key:"alpha",get:function(){return this.rgba[3]}},{key:"redRaw",get:function(){return this.red*S}},{key:"greenRaw",get:function(){return this.green*S}},{key:"blueRaw",get:function(){return this.blue*S}},{key:"equals",value:function(t){for(var e=0;e<this.rgba.length;e++)if(this.rgba[e]!==t.rgba[e])return!1;return!0}}],[{key:"ofRGBA",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=new Uint8Array(4);return a[0]=e*S,a[1]=n*S,a[2]=r*S,a[3]=i*S,new t(a)}},{key:"ofRGBARaw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,a=new Uint8Array(4);return a[0]=e,a[1]=n,a[2]=r,a[3]=i,new t(a)}},{key:"random",value:function(){var e=function(){return 256*Math.random()};return t.ofRGBA(e(),e(),e(),e())}}]),t}();A=E,M()(E,"RED",A.ofRGBA(1,0,0)),M()(E,"GREEN",A.ofRGBA(0,1,0)),M()(E,"BLUE",A.ofRGBA(0,0,1)),M()(E,"BLACK",A.ofRGBA(0,0,0)),M()(E,"WHITE",A.ofRGBA(1,1,1));const T=require("@babel/runtime/helpers/esm/inherits");var P=t.n(T);const B=require("@babel/runtime/helpers/esm/possibleConstructorReturn");var L=t.n(B);const q=require("@babel/runtime/helpers/esm/getPrototypeOf");var z=t.n(q);const D=require("@babel/runtime/helpers/esm/wrapNativeSuper");var O,_=t.n(D);var G=function(t,e){return function(t,n){return n+t*e}},N=function(t,e){return function(t){return[t/e,t%e].map(Math.floor)}},F=function(){function t(){k()(this,t),this._size=[],this.data={}}return C()(t,[{key:"size",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._size=[t,e],this}},{key:"set",value:function(t,e,n){if(0===this._size.length)throw new Z("Setting value to empty matrix");return this.data[function(t,e){return"".concat(t,",").concat(e)}(t,e)]=n,this}},{key:"build",value:function(){var t=this,e=b()(this._size,2),n=e[0],r=e[1],i=new Float64Array(n*r),a=G(0,r);return Object.keys(this.data).forEach((function(e){var n;i[a.apply(void 0,y()((n=e,n.split(",").map(Number))))]=t.data[e]})),new V(i,this._size)}}]),t}(),U=function(){function t(){k()(this,t),this.rows=[],this.dim=0}return C()(t,[{key:"addRow",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===this.dim&&(this.dim=e.length),this.dim!==e.length)throw new Z("Added row of different dimension, actual dim is ".concat(this.dim));return this.rows.push(e),this}},{key:"build",value:function(){if(this.rows.length>0)return this._buildWithRows();throw new Z("Building empty matrix")}},{key:"_buildWithRows",value:function(){for(var t=this.rows.length,e=this.dim,n=new Float64Array(t*e),r=G(0,e),i=0;i<t;i++)for(var a=0;a<e;a++)n[r(i,a)]=this.rows[i][a];return new V(n,[t,e])}}]),t}(),Y=new WeakSet,j=function(){function t(){var e,n;k()(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e=this,n=Y),n.add(e),this.cols=[],this.dim=0}return C()(t,[{key:"addCol",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===this.dim&&(this.dim=e.length),this.dim!==e.length)throw new Z("Added col of different dimension, actual dim is ".concat(this.dim));return this.cols.push(e),this}},{key:"build",value:function(){if(this.cols.length>0)return function(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}(this,Y,Q).call(this);throw new Z("Building empty matrix")}}]),t}();function Q(){for(var t=this.dim,e=this.cols.length,n=new Float64Array(t*e),r=G(0,e),i=0;i<t;i++)for(var a=0;a<e;a++)n[r(i,a)]=this.cols[a][i];return new V(n,[t,e])}var V=function(){function t(e,n){k()(this,t),M()(this,"fold",this.reduce),M()(this,"length",this.norm),this.data=e,this.shape=n}return C()(t,[{key:"rows",get:function(){return this.shape[0]}},{key:"cols",get:function(){return this.shape[1]}},{key:"get",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=b()(this.shape,2),r=(n[0],n[1]);return this.data[e+t*r]}},{key:"prod",value:function(e){if(this.cols!==e.rows)throw new Z("Incompatible product size. Left ".concat(this.shape,", right ").concat(e.shape));for(var n=this.rows,r=this.cols,i=e.cols,a=new Float64Array(n*i),o=G(0,i),s=0;s<n;s++)for(var u=0;u<i;u++){for(var h=0,c=0;c<r;c++)h+=this.get(s,c)*e.get(c,u);a[o(s,u)]=h}return new t(a,[n,i])}},{key:"dot",value:function(e){if(this.rows!==e.rows)throw new Z("Incompatible product size. Left ".concat(this.shape,", right ").concat(e.shape));for(var n=this.rows,r=this.cols,i=e.cols,a=new Float64Array(r*i),o=G(0,i),s=0;s<r;s++)for(var u=0;u<i;u++){for(var h=0,c=0;c<n;c++)h+=this.get(c,s)*e.get(c,u);a[o(s,u)]=h}return new t(a,[r,i])}},{key:"map",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},n=N.apply(void 0,y()(this.shape));return new t(this.data.map((function(t,r){var i=n(r),a=b()(i,2),o=a[0],s=a[1];return e(t,o,s)})),this.shape)}},{key:"reduce",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=N.apply(void 0,y()(this.shape));return this.data.reduce((function(e,r,i){var a=n(i),o=b()(a,2),s=o[0],u=o[1];return t(e,r,s,u)}),e)}},{key:"op",value:function(e,n){var r=b()(this.shape,2),i=r[0],a=r[1],o=b()(e.shape,2),s=o[0],u=o[1];if(i!==s||a!==u)throw new Z("Matrix must be of same size");return new t(this.data.map((function(t,r){return n(t,e.data[r])})),this.shape)}},{key:"add",value:function(t){return this.op(t,(function(t,e){return t+e}))}},{key:"sub",value:function(t){return this.op(t,(function(t,e){return t-e}))}},{key:"mul",value:function(t){return this.op(t,(function(t,e){return t*e}))}},{key:"div",value:function(t){return this.op(t,(function(t,e){return t/e}))}},{key:"scale",value:function(t){return this.map((function(e){return e*t}))}},{key:"norm",value:function(){for(var t=0,e=0;e<this.data.length;e++)t+=this.data[e]*this.data[e];return Math.sqrt(t)}},{key:"equals",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;if(!(e instanceof t))return!1;try{return this.sub(e).length()<n}catch(t){return!1}}},{key:"toArray",value:function(){return this.data}}],[{key:"ZERO",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.builder().size(e,n).build()}},{key:"random",value:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=new Float64Array(e*n),i=0;i<r.length;i++)r[i]=Math.random();return new t(r,[e,n])}},{key:"builder",value:function(){return new F}},{key:"rowBuilder",value:function(){return new U}},{key:"colBuilder",value:function(){return new j}},{key:"vec",value:function(){var t;return(t=new j).addCol.apply(t,arguments).build()}},{key:"cov",value:function(){var t;return(t=new U).addRow.apply(t,arguments).build()}}]),t}();O=V,M()(V,"id",(function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=O.e(t),r=O.colBuilder(),i=0;i<e;i++){var a;r=(a=r).addCol.apply(a,y()(n(i).data))}return r.build()})),M()(V,"e",(function(t){return function(e){return new O(new Float64Array(t).map((function(t,n){return e===n?1:0})),[t,1])}})),M()(V,"dx",(function(t){return function(e){return new O(new Float64Array(t).map((function(t,n){return e===n?1:0})),[1,t])}})),M()(V,"vec2",{of:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O.vec(t,e)},e0:O.vec(1,0),e1:O.vec(0,1),ZERO:O.ZERO(2,1)}),M()(V,"vec3",{of:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return O.vec(t,e,n)},e0:O.vec(1,0,0),e1:O.vec(0,1,0),e2:O.vec(0,0,1),ZERO:O.ZERO(3,1)});var W,Z=function(t){P()(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=z()(e);if(n){var i=z()(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return L()(this,t)});function i(){return k()(this,i),r.apply(this,arguments)}return C()(i)}(_()(Error)),H=function(){function t(e,n){if(k()(this,t),M()(this,"union",this.add),M()(this,"inter",this.sub),this.isEmpty=void 0===e||void 0===n,this.isEmpty)return this;this.min=e.op(n,Math.min),this.max=n.op(e,Math.max),this.center=e.add(n).scale(.5),this.diagonal=n.sub(e)}return C()(t,[{key:"add",value:function(e){if(this===t.EMPTY)return e;var n=this.min,r=this.max;return new t(n.op(e.min,Math.min),r.op(e.max,Math.max))}},{key:"sub",value:function(e){if(this===t.EMPTY)return t.EMPTY;var n=this.min,r=this.max,i=n.op(e.min,Math.max),a=r.op(e.max,Math.min);return a.sub(i).data.every((function(t){return t>=0}))?new t(i,a):t.EMPTY}},{key:"move",value:function(e){return new t(this.min.add(e),this.max.add(e))}},{key:"collidesWith",value:function(e){for(var n=this,r=[{type:t,action:function(){return!n.sub(e).isEmpty}},{type:V,action:function(){return!n.sub(new t(e,e)).isEmpty}}],i=0;i<r.length;i++)if(e instanceof r[i].type)return r[i].action()}},{key:"equals",value:function(e){return e instanceof t&&(this==t.EMPTY||this.min.equals(e.min)&&this.max.equals(e.max))}}],[{key:"ofPoint",value:function(){var e=V.vec.apply(V,arguments);return new t(e,e)}}]),t}();W=H,M()(H,"EMPTY",new W),V.vec2,require("@babel/runtime/helpers/esm/assertThisInitialized"),require("@babel/runtime/helpers/esm/get"),V.vec2})();
//# sourceMappingURL=index.node.js.map